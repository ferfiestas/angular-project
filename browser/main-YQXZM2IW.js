import{A as we,B as be,D as Me,E as xe,F as Pe,G as ve,H as _e,I as ye,J as h,K as C,L as Oe,a as ne,b as oe,c as ie,d as re,e as f,f as ae,g as se,h as me,i as S,j as g,k as F,l as A,m as E,n as N,o as k,p as I,q as de,r as le,s as ce,t as pe,u as ue,w as fe,x as ge,y as he,z as Ce}from"./chunk-ZW3HFZBV.js";import{$a as y,Ba as G,Db as a,Dc as J,Eb as s,Fb as c,Ja as q,Kc as Q,Lb as x,Mc as ee,Pc as te,Xb as l,Y as B,_ as V,_a as d,ab as Y,cb as H,cc as O,d as L,ea as u,eb as Z,ec as w,fc as b,gb as $,ja as M,na as j,oa as U,sb as K,ub as m,wc as W,yc as X}from"./chunk-XQUQ7R4G.js";var Te="@",ze=(()=>{let e=class e{constructor(n,o,t,p,_){this.doc=n,this.delegate=o,this.zone=t,this.animationType=p,this.moduleImpl=_,this._rendererFactoryPromise=null,this.scheduler=u(H,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-36I76ZJB.js").then(o=>o)).catch(o=>{throw new B(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:t})=>{this._engine=o(this.animationType,this.doc);let p=new t(this.delegate,this._engine,this.zone);return this.delegate=p,p})}createRenderer(n,o){let t=this.delegate.createRenderer(n,o);if(t.\u0275type===0)return t;typeof t.throwOnSyntheticProps=="boolean"&&(t.throwOnSyntheticProps=!1);let p=new D(t);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(_=>{let Re=_.createRenderer(n,o);p.use(Re),this.scheduler?.notify(9)}).catch(_=>{p.use(t)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(o){Y()},e.\u0275prov=V({token:e,factory:e.\u0275fac});let r=e;return r})(),D=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,n,o){this.delegate.insertBefore(e,i,n,o)}removeChild(e,i,n){this.delegate.removeChild(e,i,n)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,o){this.delegate.setAttribute(e,i,n,o)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,o){this.delegate.setStyle(e,i,n,o)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){this.shouldReplay(i)&&this.replay.push(o=>o.setProperty(e,i,n)),this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.shouldReplay(i)&&this.replay.push(o=>o.listen(e,i,n)),this.delegate.listen(e,i,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(Te)}};function T(r="animations"){return $("NgAsyncAnimations"),j([{provide:Z,useFactory:(e,i,n)=>new ze(e,i,n,r),deps:[J,oe,G]},{provide:q,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Se=L(ye());var Fe=(()=>{let e=class e{constructor(){this.accessService=u(C),this.formBuild=u(I),this.router=u(f),this.formLogin=this.formBuild.group({usuario1:["",[g.required]],password:["",[g.required,g.minLength(6)]]})}LogIn(){let{usuario1:n,password:o}=this.formLogin.value;this.accessService.login(n,o).subscribe({error:t=>{Se.default.fire("Error",t,"error")}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=M({type:e,selectors:[["app-login"]],standalone:!0,features:[O],decls:32,vars:2,consts:[[1,"login-background"],[1,"left-half"],[1,"top-half-left"],[1,"login-card"],[1,"header"],["role","form",1,"form-horizontal",3,"ngSubmit","formGroup"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Nombre","type","text","formControlName","usuario1"],["matInput","","placeholder","Contrase\xF1a","type","password","formControlName","password"],[1,"button-container"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"bottom-center-text"],[1,"right-half"],[1,"top-half"],[1,"centered-text"],[1,"bottom-half"],["src","assets/login.png","alt","Login Image",1,"login-image"]],template:function(o,t){o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header",4)(5,"mat-card-title"),l(6,"\xA1Solo Personal Autorizado!"),s()(),a(7,"mat-card-content")(8,"p"),l(9," \xA1Bienvenido a nuestra plataforma integral! Accede con tus credenciales para registrar asistencias y explorar una amplia gama de cursos disponibles. Tu portal para el crecimiento y la gesti\xF3n eficiente del personal. "),s(),a(10,"form",5),x("ngSubmit",function(){return t.LogIn()}),a(11,"mat-form-field",6)(12,"mat-label"),l(13,"Usuario"),s(),c(14,"input",7),s(),a(15,"mat-form-field",6)(16,"mat-label"),l(17,"Contrase\xF1a"),s(),c(18,"input",8),s(),a(19,"div",9)(20,"button",10),l(21,"Iniciar Sesion"),s()()()()()(),a(22,"p",11),l(23,"Sistema Integral de Control de Personal"),s()(),a(24,"div",12)(25,"div",13)(26,"p",14),l(27,"RECURSOS "),c(28,"br"),l(29," HUMANOS"),s()(),a(30,"div",15),c(31,"img",16),s()()()),o&2&&(d(10),m("formGroup",t.formLogin),d(10),m("disabled",t.formLogin.invalid))},dependencies:[Pe,xe,ce,le,fe,ue,be,ge,Ce,we,he,pe,Me,ve,de,E,S,F,A,N,k],styles:['body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.login-background[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden;flex-direction:row}.left-half[_ngcontent-%COMP%]{flex:2;background-color:#fff;display:flex;flex-direction:column;padding:2rem;position:relative}.top-half-left[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative}.bottom-center-text[_ngcontent-%COMP%]{color:#6eacbb;font-size:1.5rem;text-align:center;position:absolute;bottom:1rem;left:50%;transform:translate(-50%)}.right-half[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.top-half[_ngcontent-%COMP%]{flex:1;background-color:#6eacbb;display:flex;align-items:center;justify-content:center}.centered-text[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-align:center;line-height:1.2}.bottom-half[_ngcontent-%COMP%]{flex:1;background-color:#5bbfc1;display:flex;justify-content:center;align-items:flex-end}.login-image[_ngcontent-%COMP%]{width:80%;max-width:360px}mat-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background:#fffc;border-radius:12px;box-shadow:0 4px 8px #0003;margin:auto}mat-card-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0f4f8,#fff);border-radius:12px;box-shadow:0 4px 8px #0003;padding:1rem;transition:all .3s ease-in-out;position:relative;max-height:600px;overflow:hidden}mat-card-content[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fff,#e0e7ef);box-shadow:0 8px 16px #0000004d;transform:scale(1.02)}mat-card-content[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-8px;background:#699efa33;border-radius:16px;z-index:-1;filter:blur(8px);transition:all .3s ease-in-out}mat-card-header[_ngcontent-%COMP%]{background:#6eacbb;color:#fff;border-radius:12px 12px 0 0;box-shadow:0 2px 4px #0003}mat-card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}button.mat-raised-button[_ngcontent-%COMP%]{background:#6eacbb;color:#fff;border-radius:8px;transition:background .3s ease,transform .3s ease;font-size:.9rem;padding:.5rem 1rem}button.mat-raised-button[_ngcontent-%COMP%]:hover{background:#5bbfc1;transform:translateY(-2px)}@media (min-width: 1200px){.centered-text[_ngcontent-%COMP%]{font-size:4rem}.bottom-center-text[_ngcontent-%COMP%]{font-size:4.1rem}mat-card-content[_ngcontent-%COMP%]{max-height:500px}}@media (max-width: 1390px) and (min-width: 1355px){.centered-text[_ngcontent-%COMP%]{font-size:3rem}.bottom-center-text[_ngcontent-%COMP%]{font-size:4rem}}@media (max-width: 1355px) and (min-width: 1201px){.centered-text[_ngcontent-%COMP%]{font-size:3rem}.bottom-center-text[_ngcontent-%COMP%]{font-size:3.5rem}}@media (max-width: 1201px) and (min-width: 1080px){.centered-text[_ngcontent-%COMP%], .bottom-center-text[_ngcontent-%COMP%]{font-size:3rem}}@media (max-width: 1080px) and (min-width: 800px){.left-half[_ngcontent-%COMP%]{padding:1.5rem}.right-half[_ngcontent-%COMP%]{display:flex}.login-card[_ngcontent-%COMP%]{max-width:90%}.centered-text[_ngcontent-%COMP%], .bottom-center-text[_ngcontent-%COMP%]{font-size:3rem}mat-card-content[_ngcontent-%COMP%]{max-height:450px}}@media (max-width: 800px) and (min-width: 500px){.left-half[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]{max-width:100%}.login-image[_ngcontent-%COMP%]{max-width:200px}.centered-text[_ngcontent-%COMP%]{font-size:2rem}.bottom-center-text[_ngcontent-%COMP%]{font-size:2.06rem}mat-card-content[_ngcontent-%COMP%]{max-height:400px}}@media (max-width: 500px){.login-background[_ngcontent-%COMP%]{flex-direction:column}.left-half[_ngcontent-%COMP%]{flex:1;padding:1rem}.right-half[_ngcontent-%COMP%]{display:none}.login-image[_ngcontent-%COMP%]{max-width:150px}.bottom-center-text[_ngcontent-%COMP%]{font-size:1.7rem}mat-card-content[_ngcontent-%COMP%]{max-height:300px;padding:.5rem}mat-card-title[_ngcontent-%COMP%]{font-size:1rem}p[_ngcontent-%COMP%]{font-size:.8rem}button.mat-raised-button[_ngcontent-%COMP%]{width:100%;font-size:.7rem;padding:.4rem .8rem}.mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{font-size:.8rem;padding:.4rem}}']});let r=e;return r})();var Ae=(r,e)=>{let i=u(C),n=u(f);return i.authStatus()()===h.authenticated?!0:(n.navigateByUrl("/login"),!1)};var Ee=(r,e)=>{let i=u(C),n=u(f);return i.authStatus()()===h.authenticated?(n.navigateByUrl("main"),!1):!0};var z=L(ye());var P=r=>({"validation-message":!0,success:r}),v=(r,e)=>({"fa-check-circle":r,"fa-times-circle":e}),Ne=(()=>{let e=class e{get newPassword(){return this.cambiarContrasenaForm.get("newPassword")}get confirmPassword(){return this.cambiarContrasenaForm.get("confirmPassword")}get hasUppercase(){return/[A-Z]/.test(this.newPassword?.value)}get hasNumber(){return/\d/.test(this.newPassword?.value)}get hasLowercase(){return/[a-z]/.test(this.newPassword?.value)}get hasSpecialChar(){return/[!@#$%^&*]/.test(this.newPassword?.value)}get hasMinLength(){return this.newPassword?.value.length>=6}get passwordsMatch(){let n=this.newPassword?.value,o=this.confirmPassword?.value;return n&&o&&n===o}constructor(n,o,t){this.fb=n,this.router=o,this.passwordService=t,this.showNewPassword=!1,this.showConfirmPassword=!1}ngOnInit(){this.cambiarContrasenaForm=this.fb.group({newPassword:["",[g.required,g.minLength(6),g.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*]).+$")]],confirmPassword:["",[g.required]]},{validator:this.passwordMatchValidator})}passwordMatchValidator(n){let o=n.get("newPassword")?.value,t=n.get("confirmPassword")?.value;return o!==t?{mismatch:!0}:null}togglePasswordVisibility(n,o){n==="newPassword"?this.showNewPassword=o==="show":n==="confirmPassword"&&(this.showConfirmPassword=o==="show")}onSubmit(){if(this.cambiarContrasenaForm.valid){let n=this.cambiarContrasenaForm.get("newPassword")?.value;this.passwordService.passwordReset(n).subscribe(o=>{z.default.fire({title:"\xC9xito",text:"Contrase\xF1a cambiada con \xE9xito",icon:"success",confirmButtonText:"OK"}).then(()=>{this.router.navigate(["main"])})},o=>{z.default.fire({title:"Error",text:"Error al cambiar la contrase\xF1a",icon:"error",confirmButtonText:"OK"})})}}};e.\u0275fac=function(o){return new(o||e)(y(I),y(f),y(Oe))},e.\u0275cmp=M({type:e,selectors:[["app-change-password"]],decls:38,vars:46,consts:[[1,"principal"],[1,"form-container"],[1,"form-title"],[3,"ngSubmit","formGroup"],[1,"password-field"],["for","newPassword",1,"field-label"],["id","newPassword","formControlName","newPassword",1,"input-field",3,"type"],["type","button",1,"toggle-password",3,"mousedown","mouseup","mouseleave"],[1,"fa","fa-eye"],[1,"validation-list"],[1,"validation-message",3,"ngClass"],[1,"fa",3,"ngClass"],["for","confirmPassword",1,"field-label"],["id","confirmPassword","formControlName","confirmPassword",1,"input-field",3,"type"],["type","submit",1,"input-field",3,"disabled"]],template:function(o,t){o&1&&(a(0,"div",0)(1,"div",1)(2,"h2",2),l(3,"CAMBIO DE CONTRASE\xD1A"),s(),a(4,"form",3),x("ngSubmit",function(){return t.onSubmit()}),a(5,"div",4)(6,"label",5),l(7,"NUEVA CONTRASE\xD1A"),s(),c(8,"input",6),a(9,"button",7),x("mousedown",function(){return t.togglePasswordVisibility("newPassword","show")})("mouseup",function(){return t.togglePasswordVisibility("newPassword","hide")})("mouseleave",function(){return t.togglePasswordVisibility("newPassword","hide")}),c(10,"i",8),s()(),a(11,"div",9)(12,"div",10),c(13,"i",11),l(14," M\xEDnimo una letra may\xFAscula. "),s(),a(15,"div",10),c(16,"i",11),l(17," M\xEDnimo un n\xFAmero. "),s(),a(18,"div",10),c(19,"i",11),l(20," M\xEDnimo una letra min\xFAscula. "),s(),a(21,"div",10),c(22,"i",11),l(23," M\xEDnimo un car\xE1cter especial. "),s(),a(24,"div",10),c(25,"i",11),l(26," M\xEDnimo 6 caracteres. "),s(),a(27,"div",10),c(28,"i",11),l(29," La contrase\xF1a nueva y la confirmaci\xF3n deben ser las mismas. "),s()(),a(30,"div",4)(31,"label",12),l(32,"CONFIRMAR CONTRASE\xD1A"),s(),c(33,"input",13),a(34,"button",7),x("mousedown",function(){return t.togglePasswordVisibility("confirmPassword","show")})("mouseup",function(){return t.togglePasswordVisibility("confirmPassword","hide")})("mouseleave",function(){return t.togglePasswordVisibility("confirmPassword","hide")}),c(35,"i",8),s()(),a(36,"button",14),l(37,"Cambiar contrase\xF1a"),s()()()()),o&2&&(d(4),m("formGroup",t.cambiarContrasenaForm),d(4),m("type",t.showNewPassword?"text":"password"),d(4),m("ngClass",w(16,P,t.hasUppercase)),d(),m("ngClass",b(18,v,t.hasUppercase,!t.hasUppercase)),d(2),m("ngClass",w(21,P,t.hasNumber)),d(),m("ngClass",b(23,v,t.hasNumber,!t.hasNumber)),d(2),m("ngClass",w(26,P,t.hasLowercase)),d(),m("ngClass",b(28,v,t.hasLowercase,!t.hasLowercase)),d(2),m("ngClass",w(31,P,t.hasSpecialChar)),d(),m("ngClass",b(33,v,t.hasSpecialChar,!t.hasSpecialChar)),d(2),m("ngClass",w(36,P,t.hasMinLength)),d(),m("ngClass",b(38,v,t.hasMinLength,!t.hasMinLength)),d(2),m("ngClass",w(41,P,t.passwordsMatch)),d(),m("ngClass",b(43,v,t.passwordsMatch,!t.passwordsMatch)),d(5),m("type",t.showConfirmPassword?"text":"password"),d(3),m("disabled",t.cambiarContrasenaForm.invalid))},dependencies:[Q,E,S,F,A,N,k,_e],styles:['.form-container[_ngcontent-%COMP%]{background-color:#ffffffb3;border:2px solid #9d2449;width:80%;padding:20px;text-align:left;border-radius:8px;max-width:400px;margin:0 auto;box-shadow:0 4px 8px #0000001a}.principal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;width:calc(100vw - 80px);margin-left:80px;margin-right:80px;padding-right:20px;background-image:url("./media/background-6P5C6TTB.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}.form-title[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:10px;border-radius:5px;text-align:center;margin-bottom:20px}.field-label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;text-transform:uppercase}.input-field[_ngcontent-%COMP%]{width:calc(90% - 30px);max-width:400px;padding:8px;margin-bottom:10px;border:1px solid #9d2449;border-radius:4px;box-sizing:border-box}.password-field[_ngcontent-%COMP%]{position:relative}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:0;margin:0}.toggle-password[_ngcontent-%COMP%]   .fa-eye[_ngcontent-%COMP%]{font-size:16px;color:#9d2449}button.input-field[_ngcontent-%COMP%]{cursor:pointer;background-color:#9d2449;color:#fff;border:none;height:36px;width:90%;max-width:400px;margin-top:10px}button.input-field[_ngcontent-%COMP%]:disabled{background-color:#d4c19c}.validation-list[_ngcontent-%COMP%]{margin-bottom:20px}.validation-message[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px;color:#9d2449}.validation-message.success[_ngcontent-%COMP%]{color:#28a745}.validation-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}@media screen and (min-width: 1081px){.form-container[_ngcontent-%COMP%]{width:60%}.principal[_ngcontent-%COMP%]{background-size:cover}}@media screen and (max-width: 1080px) and (min-width: 801px){.form-container[_ngcontent-%COMP%]{width:70%}.principal[_ngcontent-%COMP%]{width:calc(100% - 90px);background-size:cover}}@media screen and (max-width: 800px) and (min-width: 651px){.form-container[_ngcontent-%COMP%]{width:85%}.principal[_ngcontent-%COMP%]{width:calc(100% - 90px);background-size:cover}.input-field[_ngcontent-%COMP%]{padding:12px}button.input-field[_ngcontent-%COMP%]{height:40px}.validation-list[_ngcontent-%COMP%]{margin-bottom:15px}.validation-message[_ngcontent-%COMP%]{font-size:14px}}@media screen and (max-width: 650px){.form-container[_ngcontent-%COMP%]{width:100%;padding:10px}.principal[_ngcontent-%COMP%]{width:calc(100% - 90px);background-size:cover}.input-field[_ngcontent-%COMP%]{padding:12px}button.input-field[_ngcontent-%COMP%]{height:45px}.validation-list[_ngcontent-%COMP%]{margin-bottom:10px}.validation-message[_ngcontent-%COMP%]{font-size:13px}}']});let r=e;return r})();var ke=[{path:"auth",canActivate:[Ee],component:Fe},{path:"change-password",component:Ne},{path:"main",canActivate:[Ae],loadChildren:()=>import("./chunk-YLWMJUW2.js").then(r=>r.layoutModule)},{path:"**",redirectTo:"auth"}];var Ie={providers:[ae(ke),T(),me(),U(ne),T()]};function je(r,e){r&1&&(a(0,"h2"),l(1,` Loading....
`),s())}function Ue(r,e){r&1&&c(0,"router-outlet")}var De=(()=>{let e=class e{constructor(){this.title="SEP",this.accessService=u(C),this.router=u(f),this.finishedAuthCheck=W(()=>this.accessService.authStatus()()!==h.checking),this.authStatusChangedEffect=X(()=>{switch(this.accessService.authStatus()()){case h.checking:return;case h.authenticated:this.router.navigateByUrl("main");return;case h.notAuthenticated:this.router.navigateByUrl("auth");return}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=M({type:e,selectors:[["app-root"]],standalone:!0,features:[O],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(o,t){o&1&&K(0,je,2,0,"h2",0)(1,Ue,1,0,"router-outlet",0),o&2&&(m("ngIf",!t.finishedAuthCheck()),d(),m("ngIf",t.finishedAuthCheck()))},dependencies:[se,re,te,ee]});let r=e;return r})();ie(De,Ie).catch(r=>console.error(r));
